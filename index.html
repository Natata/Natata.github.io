<!doctype html>
<html lang="en">
<head>
  <title>hello</title>
  <script>
    function foo {
      let auth = {
        homeURL: "home url",
        authURL: "auth url",
        title: "title",
        webToken: "web token",
        likesURL: "likes url",
        videosURL: "videos url",
        mobileTokenURL: "mobile token",
      };

      return encodeURIComponent(JSON.stringify(auth));
    }

    function go {
      console.log("hi");
      console.log(foo());
      window.webkit.messageHandlers.sendAuthData.postMessage(foo());
    }
  </script>
  <style>
    .center {
      padding: 70px 0;
      border: 3px solid green;
    }
</style>
</head>
<body>
    <div class="center">
        <button type="button" onclick="window.close();">close</button>
        <button type="button" onclick="window.location = 'callback://somehost?greeting=hello'">redirect</button>
        <button type="button" onclick="go()">post message</button>
        <button type="button" onclick="window.webkit.messageHandlers.close.postMessage(null);">simple send</button>
    </div>
</body>
</html>
